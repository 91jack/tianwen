<!doctype html>
<html class="no-js">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
  <title>大数据</title>
  <link rel="stylesheet" type="text/css" href="static/css/common.css"/>
  <link rel="stylesheet" type="text/css" href="static/css/index.css"/>
</head>
	<body>
		<!--顶部-->
		<div class="header">
			<div class="header-border-top"></div>
			<div class="container">
				<div class="date"></div>
				<div class="header-title">天文街道就业动车服务平台</div>
				<a href="index.html" class="gohome" ></a>
			</div>
			<div class="header-border-bottom"></div>
		</div>
		
		
		<!--内容区域-->
		<div class="bigdata-content">
			<div class="container">
				<div class="section1">
					<!--就业创业共建单位-->
					<div class="section-item">
						<div class="section-item-title">
							<h2>就业创业共建单位</h2>
							<p>Employment and entrepreneurship</p>
						</div>
						<div class="section-item-content">
							<ul class="section-item-list">
								<li>
									<span>1</span>
									<span>红星美凯龙解决就业</span>
									<span>121人</span>
								</li>
								<li>
									<span>2</span>
									<span>红星美凯龙解决就业</span>
									<span>121人</span>
								</li>
								<li>
									<span>3</span>
									<span>红星美凯龙解决就业</span>
									<span>121人</span>
								</li>
								<li>
									<span>4</span>
									<span>红星美凯龙解决就业</span>
									<span>121人</span>
								</li>
								<li>
									<span>5</span>
									<span>红星美凯龙解决就业</span>
									<span>121人</span>
								</li>
								<li>
									<span>6</span>
									<span>红星美凯龙解决就业</span>
									<span>121人</span>
								</li>
								<ul>
						</div>
					</div>
				
					<!--就业动车岗位分类展示-->
					<div class="section-item">
						<div class="section-item-title">
							<h2>就业动车岗位分类展示</h2>
							<p>Channel shunt</p>
						</div>
						<div class="section-item-content barchart">
							<!--柱状图-->
							<div id="barchart" style="width: 430px;height: 230px;"></div>
						</div>
					</div>
				</div>
			
				<div class="section2">
					<!--顶部数据展示-->
					<div class="section2-top-data">
						<div class="item-level">
							<div class="item-level-one">
								<span>服务人群</span>
								<span><b>2737</b>人</span>
							</div>
							
							<ul class="item-level-two">
								<li>
									<span>线上登记库</span>
									<span><b>2737</b>人</span>
								</li>
								<li>
									<span>失业人员</span>
									<span><b>2456</b>人</span>
								</li>
								<li>
									<span>低保户</span>
									<span><b>28</b>人</span>
								</li>
								<li>
									<span>高校毕业生</span>
									<span><b>23</b>人</span>
								</li>
								<li>
									<span>就业困难人员</span>
									<span><b>122</b>人</span>
								</li>
							</ul>
						</div>
						
						<div class="item-level">
							<div class="item-level-one">
								<span>公益性岗位</span>
								<span><b>2737</b>人</span>
							</div>
							
							<ul class="item-level-two">
								<li>
									<span>夜市摊位数</span>
									<span><b>2737</b>人</span>
								</li>
								<li>
									<span>创业一条街</span>
									<span><b>2737</b>人</span>
								</li>
								<li>
									<span>定向帮扶</span>
									<span><b>2737</b>人</span>
								</li>
							</ul>
						</div>
						
						<div class="item-level">
							<div class="item-level-one">
								<span>成功服务量</span>
								<span><b>2737</b>人</span>
							</div>
							
							<ul class="item-level-two last">
								<li>
									<span>线下成功<br/>就业人员</span>
									<span><b>2737</b>人</span>
								</li>
								<li>
									<span>线上自动配<br/>对成功人员</span>
									<span><b>2737</b>人</span>
								</li>
							</ul>
						</div>
					</div>
					
					<!--重庆地图-->
					<div class="section2-chart">
						<div id="mapchart" style="width:825px;height:529px;margin: 0 auto;"></div>
					</div>
					
				</div>
			
			<div class="section3">
				<!--就业动车社会效益展示-->
				<div class="section-item">
					<div class="section-item-title">
						<h2>就业动车社会效益展示</h2>
						<p>Social benefit display</p>
					</div>
					<div class="section-item-content">
						<div class="section3-tab-btn">
							<a href="javaacript:;">服务人群</a>
							<a href="javaacript:;">服务单位</a>
							<a href="javaacript:;">夜市摊位</a>
							<a href="javaacript:;">创业街</a>
							<a href="javaacript:;">公益岗位</a>
						</div>
						
						<div class="section3-tab-content">
							<ul class="section-item-list">
								<li>
									<span>1</span>
									<span>红星美凯龙解决就业</span>
									<span>123人</span>
								</li>
								<li>
									<span>2</span>
									<span>红星美凯龙解决就业</span>
									<span>123人</span>
								</li>
								<li>
									<span>3</span>
									<span>红星美凯龙解决就业</span>
									<span>123人</span>
								</li>
								<li>
									<span>4</span>
									<span>红星美凯龙解决就业</span>
									<span>123人</span>
								</li>
								<li>
									<span>5</span>
									<span>红星美凯龙解决就业</span>
									<span>123人</span>
								</li>
							<ul>
						</div>
						
					</div>
				</div>
				
				<!--就业动车实时动态-->
				<div class="section-item">
					<div class="section-item-title">
						<h2>就业动车实时动态</h2>
						<p>Real time dynamic</p>
					</div>
					<div class="section-item-content">
						<ul class="section-item-list section3-list">
							<li>
								<span>用户名</span>
							
								<span>时间</span>
							</li>
							<li>
								<span>MOON</span>
								<span>2017-05-21-17:00</span>
							</li>
							<li>
								<span>MOON</span>
								<span>2017-05-21-17:00</span>
							</li>
							<li>
								<span>MOON</span>
								<span>2017-05-21-17:00</span>
							</li>
							<li>
								<span>MOON</span>
								<span>2017-05-21-17:00</span>
							</li>
							<li>
								<span>MOON</span>
								<span>2017-05-21-17:00</span>
							</li>
							
						<ul>
					</div>
				</div>
			</div>
		</div>
		</div>
		
	
	
	<div class="footerchart">
		<div class="container">
			<!--就业动车网格服务人力分布图-->
			<div class="section-item footer-left-item">
				<div class="section-item-title">
					<h2>就业动车网格服务人力分布图</h2>
					<p>Grid service area diagram</p>
				</div>
				<div class="piechart-wrap">
					<div class="piechart">
						<div id="piechart1" style="width:260px;height:240px;"></div>
						<p>年龄</p>
					</div>
					<div class="piechart">
							<div id="piechart2" style="width:260px;height:240px;"></div>
							<p>学历</p>
					</div>
					<div class="piechart">
						<div id="piechart3" style="width:260px;height:240px;"></div>
						<p>政治面貌</p>
					</div>
					<div class="piechart">
						<div id="piechart4" style="width:260px;height:240px;"></div>
						<p>就业困难人员</p>
					</div>
					<div class="piechart">
						<div id="piechart5" style="width:260px;height:240px;"></div>
						<p>大学毕业生</p>
					</div>
				</div>
			</div>
			
			<!--就业动车关注度(月)-->
			<div class="section-item footer-right-item">
				<div class="section-item-title">
					<h2>就业动车关注度（月）</h2>
					<p>Channel shunt</p>
				</div>
				<div id="linechart" style="width: 487px;height:240px;"></div>
			</div>
		</div>
	</div>
	
		
		
		
	<script src="static/js/jquery-1.11.0.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="static/js/echarts.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="static/js/common.js"></script>
		<script type="text/javascript">
			$(function(){
				$('.section-item-list li').each(function(){
					var index = $(this).index();
					console.log(index)
					if(index >= 3){
						$(this).children('span:first-child').css('background','#3C9DD2')
					}
				})
				
				// 时间
				// 获取本地时间
				function timeFn(){
					var nowdate = new Date();
					var y = nowdate.getFullYear();
					var m = nowdate.getMonth()+1;
					var d = nowdate.getDate();
					var h = nowdate.getHours();
					var minutes = nowdate.getMinutes();
					var s = nowdate.getSeconds();
					m = m < 10 ? '0' + m : m; 
					d = d < 10 ? '0' + d : d; 
					h = h < 10 ? '0' + h : h; 
					minutes = minutes < 10 ? '0' + minutes : minutes; 
					s = s < 10 ? '0' + s : s; 
					var nowTime =  y + '年' + m + '月' + d + '日&nbsp;&nbsp;' + h + ':' + minutes + ':' + s;
					$('.date').html(nowTime)
				}
				
				timeFn();
				
				setInterval(function(){
					timeFn()
				},1000)
				

				// 柱状图
				// 基于准备好的dom，初始化echarts实例
        var barChart = echarts.init(document.getElementById('barchart'));
				var barOption = {
			    color: ['#3398DB'],
			    tooltip : {
			        trigger: 'axis',
			        axisPointer : {            // 坐标轴指示器，坐标轴触发有效
			            type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
			        }
			    },
			    grid: {
			    		top: '10%',
			        left: '0',
			        right: '0',
			        bottom: '0',
			        containLabel: true
			    },
			    xAxis : [
			        {
		            type : 'category',
		            axisLine : {
		            	lineStyle : {
		            		color: '#130C44'
		            	}
		            },
		            
		            axisTick: {
		            	show: false,
		              alignWithLabel: true
		            },
		            axisLabel : {
		            	color: '#fff',
//		            	fontSize: '18',
		            },
		            data : ['服务类', '技术类', '销售类', '服务类', '其他'],
			            
			        }
			    ],
			    yAxis : [
			        {		
			        	type : 'value',
			        	axisLabel : {
		            	color: '#fff',
//		            	fontSize: '18',
		            },
		           	axisLine : {
		            	lineStyle : {
		            		color: '#130C44'
		            	}
		            },
		            splitLine: {
		            	lineStyle:{
		            		color: '#130C44'
		            	}
		            },
			        }
			    ],
			    series : [
			        {
			            name:'直接访问',
			            type:'bar',
			            barWidth: '10',
			           	itemStyle: {
	                normal: {
	                    color: new echarts.graphic.LinearGradient(
	                        0, 0, 0, 1,
	                        [
	                            {offset: 0, color: '#C308CB'},
	                            //{offset: 0.5, color: '#188df0'},
	                            {offset: 1, color: '#7704D1'}
	                        ]
	                    )
	                },
//	                emphasis: {
//	                    color: new echarts.graphic.LinearGradient(
//	                        0, 0, 0, 1,
//	                        [
//	                            {offset: 0, color: '#2378f7'},
//	                            {offset: 0.7, color: '#2378f7'},
//	                            {offset: 1, color: '#83bff6'}
//	                        ]
//	                    )
//	                }
	            },
			            data:[900, 600, 300, 200, 1000]
			        }
			    ]
				};
				
				// 使用刚指定的配置项和数据显示图表。
        barChart.setOption(barOption);

				// 重庆地图
				var res = [
            {name:'广场路（宝城中学）',value:[105.598033,29.415024,100]},
            {name:'兴荣路（行政服务中心）',value:[105.618136,29.420932,200]},
            {name:'向阳路（中华奥城）',value:[105.621269,29.423722,102]},
            {name:'迎宾大道川三文曲苑对面1',value:[105.616699,29.412513,200]},
            {name:'东益当街',value:[105.602689,29.410201,20]},
            {name:'昌龙大道与瑞尔支路路口',value:[105.630171,29.414218,10]},
            {name:'荣滨北路（拓新红城龙吟门）',value:[105.593646,29.419493,50]},
            {name:'北环二路城市花园1',value:[105.593276,29.404811,200]},
            {name:'昌州大道(69队转盘)',value:[105.623243,29.419482,10]},
            {name:'广场路(玉屏小学)',value:[105.601243,29.41243,300]},
            {name:'中科路与昌州大道路口',value:[105.588394,29.407483,20]}
        ]
				var mapChart = echarts.init(document.getElementById('mapchart'));
				//var cqData = null;
        //绘制重庆地图
        $.getJSON('./static/js/cq.json', function(data){
            d = [];
            for( var i=0;i<data.features.length;i++ ){
                d.push({
                    name:data.features[i].properties.name
                })
            }
            mapdata = d;
            console.log(d)
            //注册地图
            echarts.registerMap('chongqing', data);
            //绘制地图
            renderMap('chongqing',d);

            //cqData = data;
        });
				
				 //初始化绘制重庆地图配置
        var option = {
           backgroundColor: '#0C0026',
            tooltip: {
                trigger: 'item',
                //formatter: '{b} '
            },
            visualMap: {
		            min: 800,
		            max: 50000,
		            //text:['High','Low'],
		            realtime: false,
		            calculable: true,
		            itemWidth: 10,
		            inRange: {
		                color: ['#52BCF8','#2751e3',]
		            }
		        },
            geo: {//地理坐标系组件
                map: 'chongqing',
                label: {
                    emphasis: {
                        show: false
                    }
                },
                zoom: 1.2,
               // roam: true,//是否开启鼠标缩放和平移漫游
                itemStyle: {
                    normal: {
                        areaColor: '#52b2fe',
                        borderColor: '#6ad7ff'
                    },
                    emphasis: {
                        areaColor: 'darkorange'
                    }
                }
            },
            animationDuration:1000,
            animationEasing:'cubicOut',
            animationDurationUpdate:1000
        };

        // 绘制地图
        function renderMap(map,data){
            option.series = [
            		 {
                    name: map,
                    type: 'map',
                    mapType: map,
                    roam: false,
                    nameMap:{
                        'cq':'重庆'
                    },
                    zoom: 1.2,
                   // roam: true,//是否开启鼠标缩放和平移漫游
                    itemStyle: {
                        normal: {
                            areaColor: '#52b2fe',
                            borderColor: '#6ad7ff'
                        },
                        emphasis: {
                            areaColor: 'darkorange'
                        }
                    },
                    data: [
                    	{name: '合川区', value: 423},
	                    {name: '沙坪坝区', value: 7349},
	                    {name: '北碚区', value: 65255},
	                    {name: '开县', value: 2941},
	                    {name: '云阳县', value: 380414},
	                    {name: '奉节县', value: 51882},
	                    {name: '綦江区', value: 3547},
	                    {name: '璧山县', value: 917092},
	                    {name: '酉阳土家族苗族自治县', value: 632323},
	                    {name: '大足区', value: 197568},
	                    {name: '石柱土家族自治县', value: 9945},
	                    {name: '丰都县', value: 13923},
	                    {name: '忠县', value: 159528},
	                    {name: '潼南县', value: 55},
	                    {name: '垫江县', value: 65},
	                    {name: '巴南区', value: 30746},
                    ]
                },
                {
                    name: 'pm2.5',
                    type: 'scatter',
                    coordinateSystem: 'geo',
										data: res,
                    symbolSize: function (val) {
                    	console.log(val)
                      return val[2]/80;
                    },
                    label: {
                        normal: {
                            formatter: '{b}',
                            position: 'right',
                            show: false
                        },
                        emphasis: {
                            show: true
                        }
                    },
                    itemStyle: {
                        normal: {
                            color: 'red'
                        }
                    }
                },

            ];
            //渲染地图
            mapChart.setOption(option);
        }
				
				
				
				
				
				
				
				
				
				
				
				// 圆环图
				// 年龄
				var pieChart1 = echarts.init(document.getElementById('piechart1'));
				var pieOption1 = {
					color: ['#FFB50A','#8C04FA','#10BD8F','#0DB7DB'],
					tooltip: {
			        trigger: 'item',
			        formatter: "{a} <br/>{b}: {c} ({d}%)"
			    },
			    legend: {
							bottom: '0',
			        itemWidth: 10,
			        itemHeight: 10,
			        borderRadius: 10,
			         padding: [10, 20],
			        textStyle: {
			        	color: '#fff',
			        },
			        data:['25岁及以下','25-35','45岁及以上','35-45',]
			    },
			    series: [
			        {
			            name:'年龄',
			            type:'pie',
			            radius: ['40%', '55%'],
			            center: ['50%','40%'],
			            label: {
			                normal: {
			                    //show: false,
			                    position: 'outside',
			                    formatter:  '{d}%',
			                    color: '#fff',
			                    
			                },
			              
			            },
			            labelLine: {
			              normal: {
			                length: 0,
			            		length2: 15,
			                lineStyle: {
	                    	color: '#fff',
	                    },
			              }
			            },
			            data:[
			                {value:335, name:'25岁及以下'},
			                {value:310, name:'25-35'},
			                {value:234, name:'45岁及以上'},
			                {value:135, name:'35-45'},
			              
			            ]
			        }
			    ]
				}
				pieChart1.setOption(pieOption1);
					
				// 学历
				var pieChart2 = echarts.init(document.getElementById('piechart2'));
				var pieOption2 = {
					color: ['#FFB50A','#8C04FA','#10BD8F','#10BD8F','#0DB7DB'],
					tooltip: {
			        trigger: 'item',
			        formatter: "{a} <br/>{b}: {c} ({d}%)"
			    },
			    legend: {
							bottom: '0',
			       itemWidth: 10,
			        itemHeight: 10,
			        borderRadius: 10,
			         padding: [10, 20],
			        textStyle: {
			        	color: '#fff',
			        },
			        data:['高中及以上','专科及以上','大学及以上']
			    },
			    series: [
			        {
			            name:'学历',
			            type:'pie',
			             radius: ['40%', '55%'],
			            center: ['50%','40%'],
			            label: {
			                normal: {
			                    //show: false,
			                    position: 'outside',
			                    formatter:  '{d}%',
			                    color: '#fff',
			                    
			                },
			            },
			            labelLine: {
			              normal: {
			                length: 0,
			            		length2: 15,
			                lineStyle: {
	                    	color: '#fff',
	                    },
			              }
			            },
			            data:[
			                {value:335, name:'高中及以上'},
			                {value:310, name:'专科及以上'},
			                {value:234, name:'大学及以上'},
			               
			              
			            ]
			        }
			    ]
				}
				pieChart2.setOption(pieOption2);	
					
				// 政治面貌
				var pieChart3 = echarts.init(document.getElementById('piechart3'));
				var pieOption3 = {
					 color: ['#FFB50A','#8C04FA','#10BD8F','#10BD8F','#0DB7DB'],
					tooltip: {
			        trigger: 'item',
			        formatter: "{a} <br/>{b}: {c} ({d}%)"
			    },
			    legend: {
							bottom: '0',
			        itemWidth: 10,
			        itemHeight: 10,
			        borderRadius: 10,
			          padding: [10, 20],
			        textStyle: {
			        	color: '#fff',
			        },
			        data:['党员','无党派人士','非党员的其他党派']
			    },
			    series: [
			        {
			            name:'政治面貌',
			            type:'pie',
			             radius: ['40%', '55%'],
			            center: ['50%','40%'],
			            label: {
			                normal: {
			                    //show: false,
			                    position: 'outside',
			                    formatter:  '{d}%',
			                    color: '#fff',
			                    
			                },
			            },
			            labelLine: {
			              normal: {
			                length: 0,
			            		length2: 15,
			                lineStyle: {
	                    	color: '#fff',
	                    },
			              }
			            },
			            data:[
			                {value:335, name:'党员'},
			                {value:310, name:'无党派人士'},
			                {value:234, name:'非党员的其他党派'},
			            ]
			        }
			    ]
				}
				pieChart3.setOption(pieOption3);	
				
				// 就业困难人员
				var pieChart4 = echarts.init(document.getElementById('piechart4'));
				var pieOption4 = {
					 color: ['#FFB50A','#8C04FA','#10BD8F','#10BD8F','#0DB7DB'],
					tooltip: {
			        trigger: 'item',
			        formatter: "{a} <br/>{b}: {c} ({d}%)"
			    },
			    legend: {
							bottom: '0',
			        itemWidth: 10,
			        itemHeight: 10,
			        borderRadius: 10,
			        padding: [10, 20],
			        textStyle: {
			        	color: '#fff',
			        },
			        data:['4050人员','低保家庭','零就业家庭']
			    },
			    series: [
			        {
			            name:'就业困难人员',
			            type:'pie',
			             radius: ['40%', '55%'],
			            center: ['50%','40%'],
			            label: {
			                normal: {
			                    //show: false,
			                    position: 'outside',
			                    formatter:  '{d}%',
			                    color: '#fff',
			                    
			                },
			            },
			            labelLine: {
			                normal: {
			                length: 0,
			            		length2: 15,
			                lineStyle: {
	                    	color: '#fff',
	                    },
			              }
			            },
			            data:[
			                {value:335, name:'4050人员'},
			                {value:310, name:'低保家庭'},
			                {value:234, name:'零就业家庭'},
			               
			              
			            ]
			        }
			    ]
				}
				pieChart4.setOption(pieOption4);		
					
					
				// 大学毕业生
				var pieChart5 = echarts.init(document.getElementById('piechart5'));
				var pieOption5 = {
					 color: ['#FFB50A','#8C04FA','#10BD8F','#10BD8F','#0DB7DB'],
					tooltip: {
			        trigger: 'item',
			        formatter: "{a} <br/>{b}: {c} ({d}%)"
			    },
			    legend: {
							bottom: '0',
			        itemWidth: 10,
			        itemHeight: 10,
			        borderRadius: 10,
			         padding: [10, 20],
			        textStyle: {
			        	color: '#fff',
			        },
			        data:['男','女']
			    },
			    series: [
			        {
			            name:'大学毕业生',
			            type:'pie',
			            radius: ['40%', '55%'],
			            center: ['50%','40%'],
			            label: {
			            	position: 'outside',
                    formatter:  '{d}%',
                    color: '#fff',
                    align: 'left',
			              verticalAlign: 'bottom'
			            },
			            labelLine: {
			            	normal: {
			                length: 0,
			            		length2: 15,
			                lineStyle: {
	                    	color: '#fff',
	                    },
			              }
			            	
	                   
			            },
			            data:[
			                {value:335, name:'男'},
			                {value:310, name:'女'},
			               
			              
			            ]
			        }
			    ]
				}
				pieChart5.setOption(pieOption5);	
					
					
					
					
					
					
					
				
				// 折线图
				var lineChart = echarts.init(document.getElementById('linechart'));
				var lineOption = {
					color: ['#DD5858','#00B37A','#D79D4B','#40B3E2'],
			    tooltip: {
			        trigger: 'axis'
			    },
			    legend: {
			    	textStyle : {
			    		color: '#fff',
			    	},
			         data:['找工作','找职业','找培训','公共服务']
			    },
			    grid: {
			    		top: '10%',
			        left: '0',
			        right: '0',
			        bottom: '0',
			        containLabel: true
			    },
			    xAxis : [
			        {
		            type : 'category',
		            axisLine : {
		            	lineStyle : {
		            		color: '#130C44'
		            	}
		            },
		            
		            axisTick: {
		            	show: false,
		              alignWithLabel: true
		            },
		            axisLabel : {
		            	color: '#fff',
//		            	fontSize: '18',
		            },
		             data: ['1月','2月','3月','4月','5月','6月','7月','8月','9月','10月','11月','12月']
			            
			        }
			    ],
			   
			    yAxis: {
			        type: 'value',
			        
			        	axisLabel : {
		            	color: '#fff',
//		            	fontSize: '18',
		            },
		           	axisLine : {
		            	lineStyle : {
		            		color: '#130C44'
		            	}
		            },
		            splitLine: {
		            	lineStyle:{
		            		color: '#130C44'
		            	}
		            },
			        
			    },
			    series: [
			        {
			            name:'找工作',
			            type:'line',
			            //stack: '总量',
			            data:[120, 132, 101, 134, 90, 230, 210,110,120,130,150,450,690]
			        },
			        {
			            name:'找职业',
			            type:'line',
			           // stack: '总量',
			            data:[220, 182, 191, 234, 290, 330, 310,101, 134, 90, 230, 210,110]
			        },
			        {
			            name:'找培训',
			            type:'line',
			            //stack: '总量',
			            data:[150, 232, 201, 101, 134, 90, 230, 210,110,154, 190, 330, 410]
			        },
			        {
			            name:'公共服务',
			            type:'line',
			            //stack: '总量',
			            data:[320,101, 134, 90, 230, 210,110, 332, 301, 334, 390, 330, 320]
			        }
			       
			    ]
				};

				lineChart.setOption(lineOption);
				
			})
			
		</script>
	</body>
</html>
